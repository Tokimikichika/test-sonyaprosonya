<?php

namespace Database\Seeders;

use App\Models\Article;
use App\Models\Comment;
use Illuminate\Database\Seeder;

class DatabaseSeeder extends Seeder
{
    /**
     * Seed the application's database.
     */
    public function run(): void
    {
        // Создаем тестовые статьи
        $articles = [
            [
                'title' => 'Введение в Laravel',
                'content' => 'Laravel - это бесплатный PHP-фреймворк с открытым исходным кодом, созданный Тейлором Отвеллом. Он следует архитектурному паттерну MVC и предназначен для разработки веб-приложений с использованием синтаксиса, который является элегантным и выразительным. Laravel предоставляет множество инструментов для работы с базами данных, маршрутизацией, сессиями и кэшированием, что делает разработку быстрее и приятнее.',
            ],
            [
                'title' => 'Основы React.js',
                'content' => 'React - это JavaScript-библиотека для создания пользовательских интерфейсов, разработанная Facebook. Она позволяет разработчикам создавать большие веб-приложения, которые могут обновлять данные без перезагрузки страницы. React использует компонентный подход, что делает код более модульным и переиспользуемым. Основные концепции React включают компоненты, состояние (state), свойства (props) и жизненный цикл компонентов.',
            ],
            [
                'title' => 'Docker для разработчиков',
                'content' => 'Docker - это платформа для разработки, доставки и запуска приложений в контейнерах. Контейнеры позволяют упаковать приложение со всеми его зависимостями в изолированную среду, которая может работать на любой системе. Docker упрощает процесс развертывания приложений, обеспечивает согласованность между средами разработки и продакшена, и позволяет эффективно использовать ресурсы сервера.',
            ],
            [
                'title' => 'REST API лучшие практики',
                'content' => 'REST (Representational State Transfer) - это архитектурный стиль для создания веб-сервисов. При разработке REST API важно следовать определенным принципам: использовать правильные HTTP методы (GET, POST, PUT, DELETE), возвращать соответствующие коды статуса, использовать понятные URL-адреса, обеспечивать безопасность через HTTPS и аутентификацию, а также предоставлять хорошую документацию.',
            ],
            [
                'title' => 'Современные подходы к разработке ПО',
                'content' => 'Современная разработка программного обеспечения постоянно эволюционирует. Сегодня разработчики используют методологии Agile и DevOps для ускорения процесса создания и доставки продуктов. Важными аспектами являются непрерывная интеграция (CI), непрерывное развертывание (CD), автоматическое тестирование и мониторинг. Также популярны микросервисная архитектура, облачные технологии и контейнеризация.',
            ],
        ];

        foreach ($articles as $articleData) {
            $article = Article::create($articleData);

            // Добавляем комментарии к каждой статье
            $comments = [
                [
                    'author_name' => 'Иван Петров',
                    'content' => 'Отличная статья! Очень полезная информация.',
                ],
                [
                    'author_name' => 'Мария Сидорова',
                    'content' => 'Спасибо за подробное объяснение. Всё стало понятно.',
                ],
            ];

            foreach ($comments as $commentData) {
                $article->comments()->create($commentData);
            }
        }
    }
}
